<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Vue Github Commits</title>
	<style type="text/css">
	textarea#snippet {
		width: 320px;
		border: 1px solid gainsboro;
		padding: 7px 9px;
		font-size: 14px;
		margin-top: 12px;
		border-radius: 5px;
	}
	</style>
  </head>
  <body>
    <div style="text-align: center;">
		
    	<input id="repo-name" type="text" placeholder="Insert name of github repo" style="width: 200px;border-style: none;outline-style: none;border-bottom: 1px solid gainsboro;font-size: 14px;" autofocus>
    	<button id="get-snippet" style="font-size: 14px;">Show Commits</button>

    	<br>
        <textarea id="snippet" rows="5" disabled placeholder="Embeddable-snippet will be shown here once you click the 'Show Commit' button"></textarea>
        <br>
		<i style="color:gray;">You can copy above code and embed it in your page :)</i>
        <br>

    	<iframe src="" scrolling="no" height="400" width="400" style="border: none;overflow-y: hidden;"></iframe>
    </div>

	<script type="text/javascript">
	const ENDPOINT = 'https://wzulfikar.github.io/vue-github-commits/embed.html?repo=';
	var iframe = document.getElementsByTagName('iframe')[0];
	var snippet = document.getElementById('snippet');
	var repoName = document.getElementById('repo-name');
	var btnGetSnippet = document.getElementById('get-snippet');
	btnGetSnippet.addEventListener('click', function (evt) {
		iframe.src = ENDPOINT + repoName.value;
		snippet.value = iframe.outerHTML;
	});
	iframe.src = ENDPOINT + 'wzulfikar/vue-github-commits';
	</script>
  </body>
</html>
